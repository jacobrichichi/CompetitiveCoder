{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jacob/Comp-Coder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jacob/Comp-Coder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/jacob/Comp-Coder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/jacob/Comp-Coder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/jacob/Comp-Coder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/jacob/Comp-Coder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{removeChallenge,removeRoom,challengeUser}from\"../../actions/challengeActions\";import{updateUserRank,coolDown}from\"../../actions/authActions\";import\"unirest\";import\"./ChallengePage.css\";import Timer from\"./Timer\";import socket from\"../../socket\";import{Col,Alert,Button}from\"react-bootstrap\";import Editor from\"@monaco-editor/react\";import PanelGroup from'react-panelgroup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChallengePage=/*#__PURE__*/function(_Component){_inherits(ChallengePage,_Component);var _super=_createSuper(ChallengePage);function ChallengePage(props){var _this;_classCallCheck(this,ChallengePage);_this=_super.call(this,props);_this.back=function(event){event.preventDefault();if(!_this.state.isGameFinished){_this.showConfirmLeave();}else{_this.setState({leaving:true});socket.emit('endGame',{room:_this.props.room.room});_this.props.history.push('/dashboard');}};_this.confirmedAbandon=function(event){event.preventDefault();_this.setState({leaving:true});socket.emit('endGame',{room:_this.props.room.room});_this.props.coolDown({name:_this.props.user.name,time:new Date().getTime()+1800000});_this.props.history.push('/dashboard');};_this.opponentLeave=function(){_this.setState({leaving:true});//socket.emit('opponentLeft', {room:this.props.room.room});\n_this.props.history.push('/dashboard');};_this.backMyFault=function(){_this.setState({leaving:true});socket.emit('endGame',{room:_this.props.room.room});_this.props.history.push('/dashboard');};_this.input=function(value,event){// event.preventDefault();\nif(!_this.state.firstInput){if(parseInt(_this.props.room.room.split('/')[1])!==_this.props.challenge.challenge.i){//this.back();\n_this.backMyFault();}}socket.emit('checkRoom');// console.log(this.props.room);\n// console.log(this.props.challenge);\n// console.log(socket);\n// if(this.state.count===0)\n//      this.enableTab('source');\nlocalStorage.setItem('srcCode',value);//store input in local storage so it is preserved on refresh    \n_this.setState({input:value,count:1,firstInput:true});};_this.userInput=function(event){event.preventDefault();_this.setState({user_input:event.target.value});};_this.submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var currentTime,outputText,challenge,j,str2,str3,timeElapsed,str1,w,str5,userOutputs,userOutputsCorrect,correct,userOutputsSplit,numCorrect,runTime,memory,numOfLoops,k,response,jsonResponse,jsonGetSolution,url,getSolution,t;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();currentTime=new Date().getTime();if(!((currentTime-_this.state.timeOfLastRun)/1000>=30)){_context.next=62;break;}_this.setState({timeOfLastRun:new Date().getTime()});outputText=document.getElementById('output').textContent;outputText=document.getElementById(\"output\");challenge=_this.props.challenge.challenge;j=0;str2='';str3=_this.state.input;timeElapsed=new Date().getTime()-_this.state.startTime;//Building the main method that will be used to invoke the user made method, and adding an import of Scanner at the beginning\nstr1='\\tpublic static void main(String[] args){\\n';w=0;str5='';userOutputs='';userOutputsCorrect={};correct=true;userOutputsSplit={};numCorrect=0;runTime=0;memory=0;numOfLoops=0;for(j=0;j<challenge.inputs.length;j++){str1=str1+\"\\t\\ttry{\\n\\t\\t\\tSystem.out.println(\"+challenge.methodName+\"(\";for(k=0;k<challenge.inputs[j].length;k++){str1=str1+challenge.inputs[j][k];if(k<challenge.inputs[j].length-1)str1=str1+', ';}str1=str1+\"));}\\n\\t\\tcatch(Exception e){\\n\\t\\t\\tSystem.out.println(e.toString());\\n\\t\\t}\\n\";}str1=str1+\"\\t}\\n\";case 24:if(!(str3.length>0)){_context.next=37;break;}w=str3.indexOf('\\n');if(!(str3.indexOf(\"public class Main\")!==0)){_context.next=31;break;}//Toss a main method in there that calls the input method and passes into it the subject input\nstr2=str2+str3.substring(0,w+1);str3=str3.substring(w+1,str3.length);_context.next=35;break;case 31:str2=str2+\"\\n\"+challenge.dataStructure+\"\\n\"+str3.substring(0,w+1);str3=str3.substring(w+1,str3.length);str2=str2.concat(str1,str3);return _context.abrupt(\"break\",37);case 35:_context.next=24;break;case 37:_context.next=39;return fetch(\"https://judge0-extra.p.rapidapi.com/submissions\",{method:\"POST\",headers:{\"x-rapidapi-host\":\"judge0-ce.p.rapidapi.com\",\"x-rapidapi-key\":\"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb\",\"content-type\":\"application/json\",accept:\"application/json\"},body:JSON.stringify({source_code:str2,language_id:62})});case 39:response=_context.sent;_context.next=42;return response.json();case 42:jsonResponse=_context.sent;jsonGetSolution={status:{description:\"Queue\"},stderr:null,compile_output:null};case 44:if(!(jsonGetSolution.status.description!==\"Accepted\"&&jsonGetSolution.stderr==null&&jsonGetSolution.compile_output==null)){_context.next=58;break;}numOfLoops++;if(!(numOfLoops>100)){_context.next=48;break;}return _context.abrupt(\"break\",58);case 48:if(!jsonResponse.token){_context.next=56;break;}url=\"https://judge0-extra.p.rapidapi.com/submissions/\".concat(jsonResponse.token,\"?base64_encoded=true\");_context.next=52;return fetch(url,{method:\"GET\",headers:{\"x-rapidapi-host\":\"judge0-ce.p.rapidapi.com\",\"x-rapidapi-key\":\"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb\",\"content-type\":\"application/json\"}});case 52:getSolution=_context.sent;_context.next=55;return getSolution.json();case 55:jsonGetSolution=_context.sent;case 56:_context.next=44;break;case 58:if(jsonGetSolution.stdout){userOutputs=atob(jsonGetSolution.stdout);runTime=jsonGetSolution.time;memory=jsonGetSolution.memory;userOutputsSplit=userOutputs.split(\"\\n\");for(t=0;t<userOutputsSplit.length;t++){if(userOutputsSplit[t]===challenge.outputs[t]){userOutputsCorrect[t]=true;numCorrect++;}else{correct=false;userOutputsCorrect[t]=false;}}str2=\"You passed \"+numCorrect+\"/\"+challenge.inputs.length+\" cases, and it took you \"+timeElapsed/1000+\" seconds. The average run time was \"+runTime/challenge.inputs.length+\" ms and you used \"+memory+\" KB of memory!\\n\"+\"Did all test cases pass?: \"+correct+\"\\n\\n\";localStorage.setItem(\"numCorrect\",numCorrect);localStorage.setItem(\"runTime\",runTime);localStorage.setItem(\"memory\",memory);//for(var j = 0; j<challenge.outputs.length; j++){\n//    str2 = str2 + \"Input(s): \" + challenge.inputs[j] + \"\\nYour Output: \" + userOutputsSplit[j] + \"\\nExpected Output: \" + challenge.outputs[j] + \"\\nOutput correct?: \" + userOutputsCorrect[j] + \"\\n-------------------------------------------\\n\";\n//}\n}else if(jsonGetSolution.stderr){userOutputs=atob(jsonGetSolution.stderr);str2=userOutputs;correct=false;}else{userOutputs=atob(jsonGetSolution.compile_output);str2=userOutputs;correct=false;}outputText.textContent=str2;_context.next=63;break;case 62:document.getElementById('warningText').textContent=\"Please wait another \"+(30-(currentTime-_this.state.timeOfLastRun)/1000)+\" seconds to run again\";case 63:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.timesUp=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var outputText,challenge,OCI,hasOwn,hasOpp,oppNumCorrect,oppRunTime,oppMemory,oppCorrect,didWin,numOfLoops,j,str2,str3,timeElapsed,str1,w,str5,userOutputs,userOutputsCorrect,correct,userOutputsSplit,numCorrect,runTime,memory,k,response,jsonResponse,jsonGetSolution,url,getSolution,t,winnerString;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({isGameFinished:true});outputText=document.getElementById(\"output\");challenge=_this.props.challenge.challenge;OCI='';hasOwn=false;hasOpp=false;didWin=2;numOfLoops=0;socket.on('opponentsChallengeInfo',function(data){OCI=\"Your opponent passed \"+data.oppNumCorrect+\"/\"+challenge.inputs.length+\" cases. Their run time was \"+data.oppRunTime+\" ms and they used \"+data.oppMemory+\" KB of memory!\\n\"+\"Did all their test cases pass?: \"+data.oppCorrect+\"\\n\\n\";_this.setState({theirFinishInfo:OCI});hasOpp=true;console.log('OCI');if(hasOwn===true){console.log('hasown');str2=str2+OCI;var winnerString='';if(oppNumCorrect<numCorrect){winnerString=\"You passed more test cases, so you won :)\";str2=str2+\"\\nYou passed more test cases, so you won :)\";didWin=1;}else if(oppNumCorrect>numCorrect){winnerString=\"They passed more test cases, so you lost :(\";str2=str2+\"\\nThey passed more test cases, so you lost :(\";didWin=0;}else{winnerString=\"You both had the same number of case right\";str2=str2+\"\\nYou both had the same number of case right\";if(runTime<oppRunTime){winnerString=winnerString+\", but you had a better run time, so you win :^)\";str2=str2+\", but you had a better run time, so you win :^)\";didWin=1;}else if(oppRunTime<runTime){winnerString=winnerString+\", but they had a better run time, so you lost :^(\";str2=str2+\", but they had a better run time, so you lost :^(\";didWin=0;}else{winnerString=winnerString+\", and you both somehow had the same runtime. Lets call it a draw\";str2=str2+\", and you both somehow had the same runtime. Lets call it a draw \";didWin=2;}}outputText.textContent=str2;_this.setState({winnerInfo:winnerString});_this.showGameFinishedAlert();if(_this.props.user.isCompetitive){if(didWin===0){if(_this.props.user.rank-20>=100){_this.props.updateUserRank({name:_this.props.user.name,rank:_this.props.user.rank,eloUpdate:-20});}}else if(didWin===1){if(_this.props.user.rank+20<=799){_this.props.updateUserRank({name:_this.props.user.name,rank:_this.props.user.rank,eloUpdate:20});}}}}else{console.log('no hasown yet');oppNumCorrect=data.oppNumCorrect;oppRunTime=data.oppRunTime;oppMemory=data.oppMemory;oppCorrect=data.oppCorrect;}});j=0;str2='';str3=_this.state.input;timeElapsed=new Date().getTime()-_this.state.startTime;//Building the main method that will be used to invoke the user made method, and adding an import of Scanner at the beginning\nstr1='\\tpublic static void main(String[] args){\\n';w=0;str5='';userOutputs='';userOutputsCorrect={};correct=true;userOutputsSplit={};numCorrect=0;runTime=0;memory=0;for(j=0;j<challenge.inputs.length;j++){str1=str1+\"\\t\\ttry{\\n\\t\\t\\tSystem.out.println(\"+challenge.methodName+\"(\";for(k=0;k<challenge.inputs[j].length;k++){str1=str1+challenge.inputs[j][k];if(k<challenge.inputs[j].length-1)str1=str1+', ';}str1=str1+\"));}\\n\\t\\tcatch(Exception e){\\n\\t\\t\\tSystem.out.println(e.toString());\\n\\t\\t}\\n\";}str1=str1+\"\\t}\\n\";case 25:if(!(str3.length>0)){_context2.next=38;break;}w=str3.indexOf('\\n');if(!(str3.indexOf(\"public class Main\")!==0)){_context2.next=32;break;}//Toss a main method in there that calls the input method and passes into it the subject input\nstr2=str2+str3.substring(0,w+1);str3=str3.substring(w+1,str3.length);_context2.next=36;break;case 32:str2=str2+\"\\n\"+challenge.dataStructure+\"\\n\"+str3.substring(0,w+1);str3=str3.substring(w+1,str3.length);str2=str2.concat(str1,str3);return _context2.abrupt(\"break\",38);case 36:_context2.next=25;break;case 38:_context2.next=40;return fetch(\"https://judge0-extra.p.rapidapi.com/submissions\",{method:\"POST\",headers:{\"x-rapidapi-host\":\"judge0-ce.p.rapidapi.com\",\"x-rapidapi-key\":\"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb\",\"content-type\":\"application/json\",accept:\"application/json\"},body:JSON.stringify({source_code:str2,language_id:62})});case 40:response=_context2.sent;console.log('running code');_context2.next=44;return response.json();case 44:jsonResponse=_context2.sent;jsonGetSolution={status:{description:\"Queue\"},stderr:null,compile_output:null};console.log('running code 2');case 47:if(!(jsonGetSolution.status.description!==\"Accepted\"&&jsonGetSolution.stderr==null&&jsonGetSolution.compile_output==null)){_context2.next=63;break;}numOfLoops++;if(!(numOfLoops>100)){_context2.next=51;break;}return _context2.abrupt(\"break\",63);case 51:if(!jsonResponse.token){_context2.next=61;break;}console.log('token');url=\"https://judge0-extra.p.rapidapi.com/submissions/\".concat(jsonResponse.token,\"?base64_encoded=true\");_context2.next=56;return fetch(url,{method:\"GET\",headers:{\"x-rapidapi-host\":\"judge0-ce.p.rapidapi.com\",\"x-rapidapi-key\":\"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb\",\"content-type\":\"application/json\"}});case 56:getSolution=_context2.sent;console.log('await get solution');_context2.next=60;return getSolution.json();case 60:jsonGetSolution=_context2.sent;case 61:_context2.next=47;break;case 63:if(jsonGetSolution.stdout){console.log('solution got');userOutputs=atob(jsonGetSolution.stdout);runTime=jsonGetSolution.time;memory=jsonGetSolution.memory;userOutputsSplit=userOutputs.split(\"\\n\");for(t=0;t<userOutputsSplit.length;t++){if(userOutputsSplit[t]===challenge.outputs[t]){userOutputsCorrect[t]=true;numCorrect++;}else{correct=false;userOutputsCorrect[t]=false;}}str2=\"You passed \"+numCorrect+\"/\"+challenge.inputs.length+\" cases. The run time was \"+runTime+\" ms and you used \"+memory+\" KB of memory!\\n\"+\"Did all test cases pass?: \"+correct+\"\\n\\n\";_this.setState({yourFinishInfo:str2});// for(var j = 0; j<challenge.outputs.length; j++){\n//  str2 = str2 + \"Input(s): \" + challenge.inputs[j] + \"\\nYour Output: \" + userOutputsSplit[j] + \"\\nExpected Output: \" + challenge.outputs[j] + \"\\nOutput correct?: \" + userOutputsCorrect[j] + \"\\n-------------------------------------------\\n\";\n//}\n}else if(jsonGetSolution.stderr){userOutputs=atob(jsonGetSolution.stderr);str2=userOutputs;correct=false;}else{userOutputs=atob(jsonGetSolution.compile_output);str2=userOutputs;correct=false;}hasOwn=true;console.log('finished running code');socket.emit('myChallengeInfo',{room:_this.props.room.room,numCorrect:numCorrect,runTime:runTime,memory:memory,correct:correct});if(hasOpp){winnerString='';console.log('hasopp');str2=str2+OCI;if(oppNumCorrect<numCorrect){winnerString=\"You passed more test cases, so you won :)\";str2=str2+\"\\nYou passed more test cases, so you won :)\";didWin=1;}else if(oppNumCorrect>numCorrect){winnerString=\"They passed more test cases, so you lost :(\";str2=str2+\"\\nThey passed more test cases, so you lost :(\";didWin=0;}else{winnerString=\"You both had the same number of case right\";str2=str2+\"\\nYou both had the same number of case right\";if(runTime<oppRunTime){winnerString=winnerString+\", but you had a better run time, so you win :^)\";str2=str2+\", but you had a better run time, so you win :^)\";didWin=1;}else if(oppRunTime<runTime){winnerString=winnerString+\", but they had a better run time, so you lost :^(\";str2=str2+\", but they had a better run time, so you lost :^(\";didWin=0;}else{winnerString=winnerString+\", and you both somehow had the same runtime. Lets call it a draw\";str2=str2+\", and you both somehow had the same runtime. Lets call it a draw \";didWin=2;}}outputText.textContent=str2;_this.setState({winnerInfo:winnerString});_this.showGameFinishedAlert();if(_this.props.user.isCompetitive){if(didWin===0){if(_this.props.user.rank-20>=100){_this.props.updateUserRank({name:_this.props.user.name,rank:_this.props.user.rank,eloUpdate:-20});}}else if(didWin===1){if(_this.props.user.rank+20<=799){_this.props.updateUserRank({name:_this.props.user.name,rank:_this.props.user.rank,eloUpdate:20});}}}}case 68:case\"end\":return _context2.stop();}}},_callee2);}));_this.intervalUpdate=function(){if(localStorage.getItem(\"numCorrect\")){socket.emit(\"intervalUpdate\",{numCorrect:localStorage.getItem(\"numCorrect\"),runTime:localStorage.getItem(\"runTime\"),memory:localStorage.getItem(\"memory\"),room:_this.props.room.room});}};_this.showOppInfoAlert=function(){_this.setState({showOppInfo:true});};_this.showGameFinishedAlert=function(){_this.setState({showGameFinished:true});};_this.showConfirmLeave=function(){_this.setState({showConfirmLeave:true});};_this.closeConfirmLeave=function(){_this.setState({showConfirmLeave:false});};_this.mapMakeDescription=function(){_this.props.challenge.challenge.description.split('%').map(function(line){return/*#__PURE__*/_jsxs(\"text\",{children:[line,/*#__PURE__*/_jsx(\"br\",{})]});});};_this.state={input:'',output:'',language_id:62,user_input:'',startTime:new Date().getTime(),count:0,room:'',timeOfLastRun:0,leaving:false,mounted:false,firstInput:false,showOppInfo:false,showGameFinished:false,showConfirmLeave:false,yourFinishInfo:'',theirFinishInfo:'',winnerInfo:'',oppNumCorrect:0,oppRunTime:0,oppMemory:0,description:'',exampleOne:'',exampleTwo:'',isGameFinished:false};socket.on('gameEnd',_this.opponentLeave);socket.on(\"intervalUpdate\",function(data){_this.setState({oppNumCorrect:data.numCorrect,oppRunTime:data.runTime,oppMemory:data.memory});_this.showOppInfoAlert();});// socket.on('reconnect', () =>{\n//    console.log('reconnection');\n//    socket.emit('rejoinGame', { room: this.props.room.room });\n//});\nreturn _this;}_createClass(ChallengePage,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(!nextProps.isChallenge){console.log('nextProps');this.props.history.push(\"/dashboard\");// push user back to dashboard once the room and challenge have been removed from state tree\n}/*if (nextProps.errors) {\r\n          this.setState({\r\n            errors: nextProps.errors\r\n          });\r\n        }*/}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){console.log('unmounting');console.log(this.props.isChallenge);console.log(this.props.user);localStorage.removeItem('srcCode');localStorage.removeItem('numCorrect');localStorage.removeItem('runTime');localStorage.removeItem('memory');localStorage.removeItem('description');localStorage.removeItem('exampleOne');localStorage.removeItem('exampleTwo');socket.emit('endGame',{room:this.props.room.room});this.props.removeRoom();this.props.removeChallenge();}},{key:\"componentWillMount\",value:function componentWillMount(){if(localStorage.getItem('description')){this.setState({description:localStorage.getItem('description'),exampleOne:localStorage.getItem('exampleOne'),exampleTwo:localStorage.getItem('exampleTwo')});}else{var description=this.props.challenge.challenge.description;var exampleOne=description.substring(description.indexOf('!')+1,description.indexOf('@'));var exampleTwo=description.substring(description.indexOf('@')+1,description.length);exampleOne=exampleOne.split('%').map(function(line){return/*#__PURE__*/_jsxs(\"text\",{children:[line,/*#__PURE__*/_jsx(\"br\",{})]});});exampleTwo=exampleTwo.split('%').map(function(line){return/*#__PURE__*/_jsxs(\"text\",{children:[line,/*#__PURE__*/_jsx(\"br\",{})]});});description=description.substring(0,description.indexOf('!'));description=description.split('%').map(function(line){return/*#__PURE__*/_jsxs(\"text\",{children:[line,/*#__PURE__*/_jsx(\"br\",{})]});});this.setState({description:description,exampleOne:exampleOne,exampleTwo:exampleTwo});localStorage.setItem('description',description);localStorage.setItem('exampleOne',exampleOne);localStorage.setItem('exampleTwo',exampleTwo);}}},{key:\"componentDidMount\",value:function componentDidMount(){if(!this.state.leaving){socket.emit('rejoinGame',{room:this.props.room.room});}}},{key:\"enableTab\",value:function enableTab(id){var el=document.getElementById(id);el.onkeydown=function(e){if(e.keyCode===9){// tab was pressed\n// get caret position/selection\nvar val=this.value,start=this.selectionStart,end=this.selectionEnd;// set textarea value to: text before caret + tab + text after caret\nthis.value=val.substring(0,start)+'\\t'+val.substring(end);// put caret at right position again\nthis.selectionStart=this.selectionEnd=start+1;// prevent the focus lose\nreturn false;}};}},{key:\"rejoinRoom\",value:function rejoinRoom(){socket.emit('rejoinRoom',{room:this.props.room});}},{key:\"render\",value:/*makeDescription = () => {\r\n        var lineBreak = document.createElement(\"br\");\r\n\r\n        lineBreak.type = \"br\";\r\n        const descriptionSplit = this.props.challenge.challenge.description.split('%');\r\n\r\n\r\n        var descText = document.createElement('text');\r\n        descText.type = \"text\";\r\n        descText.innerHTML = '';\r\n\r\n        console.log(lineBreak);\r\n\r\n        for(var i = 0; i<descriptionSplit.length; i++){\r\n            if(descriptionSplit[i].charAt(0)==='!'){\r\n                descText.innerHTML = descText.innerHTML + 'Example 1:' + lineBreak;\r\n            }\r\n            else if(descriptionSplit[i].charAt(0)==='@'){\r\n                descText.innerHTML = descText.innerHTML + 'Example 2:' + lineBreak;\r\n            }\r\n            descText.innerHTML = descText.innerHTML + descriptionSplit[i] + lineBreak;\r\n            //console.log('hi');\r\n           // console.log(descText.innerHTML);\r\n\r\n        }\r\n        document.getElementById('description').innerHTML = descText.innerHTML;\r\n\r\n        \r\n    }*/function render(){var challenge=this.props.challenge.challenge;var room=this.props.room.room;console.log('render');var splitImports;if(this.state.firstInput===false){var DS=\" \\n\";if(challenge.dataStructure!==\"  \"){DS=\"/*\\n\"+challenge.dataStructure+\"\\n*//*\\n\";}if(challenge.imports!==\" \"){splitImports=challenge.imports.split('|');for(var j=0;j<splitImports.length;j++){DS=DS+splitImports[j]+\"\\n\";}}DS=DS+\"public class Main{\\n\\tpublic static \"+challenge.outputType+\" \"+challenge.methodName+\"(\";for(var l=0;l<challenge.inputTypes.length;l++){DS=DS+challenge.inputTypes[l]+\" \"+challenge.inputVarNames[l];if(l<challenge.inputTypes.length-1){DS=DS+\", \";}}DS=DS+\"){\\n\\n\\t}\\n}\";var selected;if(localStorage.getItem('srcCode')){if(localStorage.getItem('srcCode')!==DS){// localStorage.setItem('description', description);\nselected=DS;localStorage.setItem('srcCode',DS);//document.getElementById('source').innerHTML = DS;\n//document.getElementById('description').innerHTML = description;\nthis.setState({input:DS});if(this.state.firstInput===false)window.location.reload(false);}else{// description = localStorage.getItem('description');\nselected=localStorage.getItem('srcCode');}}else{selected=DS;localStorage.setItem('srcCode',DS);// localStorage.setItem('description', description);\n}}return/*#__PURE__*/_jsx(\"div\",{className:\"challengepagebg\",children:/*#__PURE__*/_jsxs(PanelGroup,{direction:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"transparent\",children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"10px\"},children:/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"p\",{id:\"title\",children:challenge.name})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"5px\",marginRight:\"5px\"},children:[/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-left\",children:/*#__PURE__*/_jsx(\"text\",{id:\"description\",children:this.state.description})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-left\",children:/*#__PURE__*/_jsxs(\"text\",{id:\"exampleTitle\",children:[this.state.exampleOne===''?'':'Example 1:',/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-left\",children:/*#__PURE__*/_jsx(\"text\",{id:\"example\",children:this.state.exampleOne})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-left\",children:/*#__PURE__*/_jsxs(\"text\",{id:\"exampleTitle\",children:[this.state.exampleTwo===''?'':'Example 2:',/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-left\",children:/*#__PURE__*/_jsx(\"text\",{id:\"example\",children:this.state.exampleTwo})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100vw\"},children:[/*#__PURE__*/_jsxs(Alert,{show:this.state.showOppInfo,variant:\"info\",dismissable:true,children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Little update on your opponents progress...\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"They currently have passed \",this.state.oppNumCorrect,\" cases, have a run time of \",this.state.oppRunTime,\" ms and are using \",this.state.oppMemory,\" KBs of memory.\"]})]}),/*#__PURE__*/_jsxs(Alert,{show:this.state.showGameFinished,variant:\"info\",dismissable:true,children:[/*#__PURE__*/_jsx(Alert.Heading,{children:this.state.winnerInfo}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Your game data looked like:\",/*#__PURE__*/_jsx(\"br\",{}),this.state.yourFinishInfo,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),\"Their data looked like: \",/*#__PURE__*/_jsx(\"br\",{}),this.state.theirFinishInfo]})]}),/*#__PURE__*/_jsxs(Alert,{show:this.state.showConfirmLeave,variant:\"info\",dismissable:true,children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Are you sure you would like to leave?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Be warned, abandoning incurs a cooldown!\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Button,{onClick:this.confirmedAbandon,children:\"Leave\"}),/*#__PURE__*/_jsx(Button,{onClick:this.closeConfirmLeave,children:\"Nevermind\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row justify-content-center\",style:{height:\"8vh\"},children:/*#__PURE__*/_jsxs(\"text\",{style:{fontFamily:\"monospace\",fontSize:\"30px\"},className:\"brand-logo black-text\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"code\"}),\"CompCoder\"]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex justify-content-between\",style:{height:\"8vh\"},children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-large waves-effect waves-light hoverable blue accent-3\",onClick:this.back,style:{marginLeft:\"20px\"},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-cog fa-fw\"}),\" Back\"]}),/*#__PURE__*/_jsx(\"div\",{style:{marginRight:\"3vw\"},children:/*#__PURE__*/_jsx(Timer,{timesUp:this.timesUp,intervalUpdate:this.intervalUpdate})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row justify-content-center\",style:{height:\"65vh\"},children:[/*#__PURE__*/_jsx(Col,{xs:8,children:/*#__PURE__*/_jsx(Editor,{required:true,height:\"65vh\",defaultLanguage:\"java\",defaultValue:DS,name:\"solution\",id:\"source\",onChange:this.input,editorProps:{blockingScroll:true},children:DS})}),/*#__PURE__*/_jsx(Col,{xs:3,children:/*#__PURE__*/_jsx(\"textarea\",{id:\"output\",children:this.state.output})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row justify-content-center\",style:{height:\"9vh\"},children:[/*#__PURE__*/_jsxs(\"button\",{style:{width:\"150px\",borderRadius:\"3px\",letterSpacing:\"1.5px\",marginTop:\"1rem\"},type:\"submit\",className:\"btn btn-large waves-effect waves-light hoverable blue accent-3\",onClick:this.submit,children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-cog fa-fw\"}),\" Run\"]}),/*#__PURE__*/_jsx(\"text\",{id:\"warningText\"})]})]})]})});}}]);return ChallengePage;}(Component);var mapStateToProps=function mapStateToProps(state){return{challenge:state.auth.challenge,isChallenge:state.auth.isChallenge,room:state.auth.room,isRoom:state.auth.isRoom,user:state.auth.user};};export default connect(mapStateToProps,{removeChallenge:removeChallenge,removeRoom:removeRoom,challengeUser:challengeUser,updateUserRank:updateUserRank,coolDown:coolDown})(ChallengePage);","map":{"version":3,"sources":["C:/Users/jacob/Comp-Coder/client/src/components/dashboard/ChallengePage.js"],"names":["React","Component","connect","removeChallenge","removeRoom","challengeUser","updateUserRank","coolDown","Timer","socket","Col","Alert","Button","Editor","PanelGroup","ChallengePage","props","back","event","preventDefault","state","isGameFinished","showConfirmLeave","setState","leaving","emit","room","history","push","confirmedAbandon","name","user","time","Date","getTime","opponentLeave","backMyFault","input","value","firstInput","parseInt","split","challenge","i","localStorage","setItem","count","userInput","user_input","target","submit","e","currentTime","timeOfLastRun","outputText","document","getElementById","textContent","j","str2","str3","timeElapsed","startTime","str1","w","str5","userOutputs","userOutputsCorrect","correct","userOutputsSplit","numCorrect","runTime","memory","numOfLoops","inputs","length","methodName","k","indexOf","substring","dataStructure","concat","fetch","method","headers","accept","body","JSON","stringify","source_code","language_id","response","json","jsonResponse","jsonGetSolution","status","description","stderr","compile_output","token","url","getSolution","stdout","atob","t","outputs","timesUp","OCI","hasOwn","hasOpp","didWin","on","data","oppNumCorrect","oppRunTime","oppMemory","oppCorrect","theirFinishInfo","console","log","winnerString","winnerInfo","showGameFinishedAlert","isCompetitive","rank","eloUpdate","yourFinishInfo","intervalUpdate","getItem","showOppInfoAlert","showOppInfo","showGameFinished","closeConfirmLeave","mapMakeDescription","map","line","output","mounted","exampleOne","exampleTwo","nextProps","isChallenge","removeItem","id","el","onkeydown","keyCode","val","start","selectionStart","end","selectionEnd","splitImports","DS","imports","outputType","l","inputTypes","inputVarNames","selected","window","location","reload","marginTop","marginLeft","marginRight","width","height","fontFamily","fontSize","blockingScroll","borderRadius","letterSpacing","mapStateToProps","auth","isRoom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeChallenge, removeRoom, challengeUser } from \"../../actions/challengeActions\";\r\nimport { updateUserRank, coolDown } from \"../../actions/authActions\";\r\n\r\nimport \"unirest\";\r\nimport \"./ChallengePage.css\";\r\nimport Timer from \"./Timer\";\r\nimport socket from \"../../socket\";\r\nimport {Col, Alert, Button} from \"react-bootstrap\";\r\n\r\nimport Editor from \"@monaco-editor/react\";\r\nimport PanelGroup from 'react-panelgroup';\r\n\r\n\r\n\r\nclass ChallengePage extends Component { \r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state ={\r\n            input: '',\r\n            output: '',\r\n            language_id: 62,\r\n            user_input: '',\r\n            startTime: new Date().getTime(),\r\n            count: 0,\r\n            room: '',\r\n            timeOfLastRun: 0,\r\n            leaving: false,\r\n            mounted: false,\r\n            firstInput: false,\r\n            showOppInfo: false,\r\n            showGameFinished: false,\r\n            showConfirmLeave: false,\r\n            yourFinishInfo: '',\r\n            theirFinishInfo: '',\r\n            winnerInfo: '',\r\n            oppNumCorrect: 0,\r\n            oppRunTime: 0,\r\n            oppMemory: 0, \r\n            description: '',\r\n            exampleOne: '',\r\n            exampleTwo: '',\r\n            isGameFinished: false\r\n        \r\n\r\n        };\r\n\r\n\r\n        socket.on('gameEnd', this.opponentLeave);\r\n\r\n        socket.on(\"intervalUpdate\", (data) => {\r\n\r\n            this.setState({oppNumCorrect: data.numCorrect, oppRunTime: data.runTime, oppMemory: data.memory})\r\n            this.showOppInfoAlert();\r\n        })\r\n\r\n       // socket.on('reconnect', () =>{\r\n       //    console.log('reconnection');\r\n       //    socket.emit('rejoinGame', { room: this.props.room.room });\r\n        //});\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (!nextProps.isChallenge) {\r\n            console.log('nextProps');\r\n            this.props.history.push(\"/dashboard\"); // push user back to dashboard once the room and challenge have been removed from state tree\r\n        }\r\n        /*if (nextProps.errors) {\r\n          this.setState({\r\n            errors: nextProps.errors\r\n          });\r\n        }*/\r\n    }\r\n\r\n\r\n    componentWillUnmount(){\r\n        console.log('unmounting');\r\n        console.log(this.props.isChallenge);\r\n        console.log(this.props.user);\r\n\r\n        localStorage.removeItem('srcCode');\r\n        localStorage.removeItem('numCorrect');\r\n        localStorage.removeItem('runTime');\r\n        localStorage.removeItem('memory');\r\n        localStorage.removeItem('description');\r\n        localStorage.removeItem('exampleOne');\r\n        localStorage.removeItem('exampleTwo');\r\n\r\n        socket.emit('endGame', {room: this.props.room.room});\r\n\r\n\r\n        this.props.removeRoom();\r\n        this.props.removeChallenge();\r\n    \r\n     }\r\n\r\n     componentWillMount() {\r\n         if(localStorage.getItem('description')){\r\n             this.setState({description: localStorage.getItem('description')\r\n             , exampleOne: localStorage.getItem('exampleOne'),\r\n             exampleTwo: localStorage.getItem('exampleTwo')})\r\n         }\r\n         else{\r\n            var description = this.props.challenge.challenge.description;\r\n\r\n            var exampleOne = description.substring(description.indexOf('!') + 1, description.indexOf('@'));\r\n            var exampleTwo = description.substring(description.indexOf('@') + 1, description.length);\r\n\r\n            exampleOne = exampleOne.split('%').map((line) => <text>{line}<br/></text>);\r\n            exampleTwo = exampleTwo.split('%').map((line) => <text>{line}<br/></text>);\r\n            \r\n\r\n            description = description.substring(0, description.indexOf('!'));\r\n\r\n\r\n            description = description.split('%').map((line) => <text >{line}<br/></text>);\r\n\r\n            this.setState({description: description, exampleOne: exampleOne, exampleTwo: exampleTwo});\r\n            localStorage.setItem('description', description);\r\n            localStorage.setItem('exampleOne', exampleOne);\r\n            localStorage.setItem('exampleTwo', exampleTwo);\r\n         }\r\n     }\r\n\r\n     componentDidMount(){\r\n         \r\n         //this.enableTab('source');\r\n     }\r\n      \r\n\r\n\r\n    back = (event) => {\r\n        event.preventDefault();\r\n        if(!this.state.isGameFinished){\r\n            this.showConfirmLeave();\r\n        }\r\n        else{\r\n            this.setState({leaving: true});\r\n            socket.emit('endGame', {room: this.props.room.room});\r\n            this.props.history.push('/dashboard');\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    confirmedAbandon = (event) => {\r\n        event.preventDefault();\r\n        this.setState({leaving: true});\r\n        socket.emit('endGame', {room: this.props.room.room});\r\n        this.props.coolDown({name: this.props.user.name, time: new Date().getTime() +1800000});\r\n\r\n        this.props.history.push('/dashboard');\r\n    }\r\n\r\n    opponentLeave = () => {\r\n\r\n        this.setState({leaving: true});\r\n        //socket.emit('opponentLeft', {room:this.props.room.room});\r\n\r\n        this.props.history.push('/dashboard');\r\n\r\n    }\r\n\r\n    backMyFault = () => {\r\n        this.setState({leaving: true});\r\n\r\n        socket.emit('endGame', {room: this.props.room.room});\r\n        this.props.history.push('/dashboard');\r\n\r\n        \r\n    }\r\n\r\n    input = (value, event) => {\r\n       // event.preventDefault();\r\n\r\n        if(!this.state.firstInput){\r\n            if(parseInt(this.props.room.room.split('/')[1])!== this.props.challenge.challenge.i){\r\n                //this.back();\r\n\r\n                this.backMyFault();  \r\n            }\r\n        }\r\n        socket.emit('checkRoom');\r\n       // console.log(this.props.room);\r\n       // console.log(this.props.challenge);\r\n\r\n       // console.log(socket);\r\n\r\n       // if(this.state.count===0)\r\n      //      this.enableTab('source');\r\n\r\n        localStorage.setItem('srcCode', value);    //store input in local storage so it is preserved on refresh    \r\n        this.setState({ input: value, count: 1, firstInput: true});\r\n\r\n\r\n    };\r\n\r\n    userInput = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ user_input: event.target.value });\r\n      };\r\n\r\n    submit = async (e) =>{\r\n        e.preventDefault();\r\n\r\n        var currentTime = new Date().getTime();\r\n\r\n\r\n        if((currentTime - this.state.timeOfLastRun)/1000 >= 30){\r\n\r\n        this.setState({timeOfLastRun: new Date().getTime()});  \r\n        outputText = document.getElementById('output').textContent;\r\n        \r\n        let outputText = document.getElementById(\"output\");\r\n        const { challenge } = this.props.challenge;\r\n\r\n        var j = 0;\r\n        var str2 = ''; \r\n        var str3 = this.state.input;\r\n        const timeElapsed = new Date().getTime() - this.state.startTime;\r\n        //Building the main method that will be used to invoke the user made method, and adding an import of Scanner at the beginning\r\n        \r\n\r\n        var str1 = '\\tpublic static void main(String[] args){\\n';\r\n\r\n        var w = 0;\r\n        var str5 = '';\r\n        var userOutputs = '';\r\n        var userOutputsCorrect = {};\r\n        var correct = true;\r\n        var userOutputsSplit ={};\r\n        var numCorrect = 0;\r\n        var runTime = 0;\r\n        var memory = 0;\r\n        var numOfLoops = 0;\r\n\r\n\r\n        for(var j = 0; j <challenge.inputs.length; j++){\r\n            str1 = str1 + \"\\t\\ttry{\\n\\t\\t\\tSystem.out.println(\" + challenge.methodName + \"(\";\r\n            for(var k = 0; k<challenge.inputs[j].length; k++){\r\n                str1 = str1 + challenge.inputs[j][k];\r\n                if(k<challenge.inputs[j].length-1)\r\n                    str1= str1 + ', ';\r\n            }\r\n            str1 = str1 + \"));}\\n\\t\\tcatch(Exception e){\\n\\t\\t\\tSystem.out.println(e.toString());\\n\\t\\t}\\n\";\r\n        }\r\n        str1 = str1 + \"\\t}\\n\";\r\n\r\n\r\n\r\n        while(str3.length>0){\r\n            w = str3.indexOf('\\n');\r\n            if(str3.indexOf(\"public class Main\")!==0){      //Toss a main method in there that calls the input method and passes into it the subject input\r\n                str2 = str2 + str3.substring(0, w+1);\r\n                str3 = str3.substring(w+1, str3.length);\r\n            }\r\n            else{\r\n                str2 = str2 + \"\\n\" + challenge.dataStructure + \"\\n\" + str3.substring(0, w+1);\r\n                str3 = str3.substring(w+1, str3.length);\r\n                str2 = str2.concat(str1, str3);\r\n                break;\r\n            }\r\n        }  \r\n\r\n        \r\n\r\n        const response = await fetch(\r\n            \"https://judge0-extra.p.rapidapi.com/submissions\",\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\r\n                    \"x-rapidapi-key\": \"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb\", \r\n                    \"content-type\": \"application/json\",\r\n                    accept: \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    source_code: str2,\r\n                    language_id: 62\r\n                }),\r\n                }\r\n            \r\n            );\r\n            \r\n            const jsonResponse = await response.json();\r\n            \r\n\r\n            let jsonGetSolution ={\r\n                status: { description: \"Queue\" },\r\n                stderr: null,\r\n                compile_output: null\r\n            };\r\n\r\n\r\n            while(\r\n                (jsonGetSolution.status.description!== \"Accepted\"&&\r\n                jsonGetSolution.stderr == null &&\r\n                jsonGetSolution.compile_output == null)\r\n            ) {\r\n\r\n                numOfLoops++;\r\n                if(numOfLoops>100){\r\n                    break;\r\n                }\r\n                if(jsonResponse.token){\r\n\r\n                    let url = `https://judge0-extra.p.rapidapi.com/submissions/${jsonResponse.token}?base64_encoded=true`;\r\n                    \r\n                    const getSolution = await fetch(url, {\r\n                        method: \"GET\",\r\n                        headers: {\r\n                            \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\r\n                            \"x-rapidapi-key\": \"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb\", \r\n                            \"content-type\": \"application/json\",\r\n                          },\r\n                    });\r\n\r\n                    jsonGetSolution = await getSolution.json();\r\n                }\r\n            }\r\n\r\n            if(jsonGetSolution.stdout){\r\n                userOutputs = atob(jsonGetSolution.stdout);\r\n                runTime = jsonGetSolution.time;\r\n                memory = jsonGetSolution.memory;\r\n\r\n                userOutputsSplit = userOutputs.split(\"\\n\");\r\n                \r\n                for(var t = 0; t<userOutputsSplit.length; t++){\r\n                    if(userOutputsSplit[t] === challenge.outputs[t]){\r\n                        userOutputsCorrect[t] = true;\r\n                        numCorrect++;\r\n                    \r\n                    }    \r\n                    else{\r\n                    \r\n                        correct = false;\r\n                        userOutputsCorrect[t] = false;\r\n                    }\r\n                }\r\n                str2 = \"You passed \" + numCorrect + \"/\" + challenge.inputs.length + \" cases, and it took you \" + (timeElapsed/1000) + \" seconds. The average run time was \" + (runTime/challenge.inputs.length) + \" ms and you used \" + memory + \" KB of memory!\\n\" + \"Did all test cases pass?: \" + correct +\"\\n\\n\";\r\n    \r\n                localStorage.setItem(\"numCorrect\", numCorrect);\r\n                localStorage.setItem(\"runTime\", runTime);\r\n                localStorage.setItem(\"memory\", memory);\r\n\r\n                //for(var j = 0; j<challenge.outputs.length; j++){\r\n                //    str2 = str2 + \"Input(s): \" + challenge.inputs[j] + \"\\nYour Output: \" + userOutputsSplit[j] + \"\\nExpected Output: \" + challenge.outputs[j] + \"\\nOutput correct?: \" + userOutputsCorrect[j] + \"\\n-------------------------------------------\\n\";\r\n                //}\r\n            }    \r\n            else if(jsonGetSolution.stderr){\r\n                userOutputs = atob(jsonGetSolution.stderr);\r\n                str2 = userOutputs;\r\n                correct = false;\r\n            }\r\n    \r\n            else{\r\n                userOutputs = atob(jsonGetSolution.compile_output);\r\n                str2 = userOutputs;\r\n                correct = false;\r\n            }\r\n            outputText.textContent = str2;\r\n        }\r\n        else{\r\n            document.getElementById('warningText').textContent = \"Please wait another \" + (30 - (currentTime - this.state.timeOfLastRun)/1000) + \" seconds to run again\"; \r\n        }\r\n    \r\n    \r\n    };\r\n\r\n    enableTab(id) {\r\n        var el = document.getElementById(id);\r\n        el.onkeydown = function(e) {\r\n            if (e.keyCode === 9) { // tab was pressed\r\n    \r\n                // get caret position/selection\r\n                var val = this.value,\r\n                    start = this.selectionStart,\r\n                    end = this.selectionEnd;\r\n    \r\n                // set textarea value to: text before caret + tab + text after caret\r\n                this.value = val.substring(0, start) + '\\t' + val.substring(end);\r\n    \r\n                // put caret at right position again\r\n                this.selectionStart = this.selectionEnd = start + 1;\r\n    \r\n                // prevent the focus lose\r\n                return false;\r\n    \r\n            }\r\n        };\r\n    }\r\n\r\n    rejoinRoom(){\r\n        socket.emit('rejoinRoom', {room:this.props.room});\r\n    }\r\n\r\n    timesUp = async () => {\r\n        this.setState({isGameFinished: true});\r\n        let outputText = document.getElementById(\"output\");\r\n        const { challenge } = this.props.challenge;\r\n        var OCI = '';\r\n        var hasOwn = false;\r\n        var hasOpp = false;\r\n        var oppNumCorrect;\r\n        var oppRunTime;\r\n        var oppMemory;\r\n        var oppCorrect;\r\n        var didWin = 2;\r\n        var numOfLoops = 0;\r\n\r\n\r\n        socket.on('opponentsChallengeInfo', (data) => {\r\n            OCI = \"Your opponent passed \" + data.oppNumCorrect + \"/\" + challenge.inputs.length + \" cases. Their run time was \" + data.oppRunTime + \" ms and they used \" + data.oppMemory + \" KB of memory!\\n\" + \"Did all their test cases pass?: \" + data.oppCorrect +\"\\n\\n\";\r\n            this.setState({theirFinishInfo: OCI});\r\n            hasOpp = true;\r\n\r\n            console.log('OCI');\r\n            if(hasOwn === true){\r\n                console.log('hasown');\r\n                str2 = str2 + OCI;\r\n                var winnerString = '';\r\n\r\n                if(oppNumCorrect<numCorrect){\r\n                    winnerString = \"You passed more test cases, so you won :)\";\r\n                    str2 = str2 + \"\\nYou passed more test cases, so you won :)\";\r\n                    didWin = 1;\r\n\r\n                }\r\n                else if(oppNumCorrect>numCorrect){\r\n                    winnerString = \"They passed more test cases, so you lost :(\";\r\n                    str2 = str2 + \"\\nThey passed more test cases, so you lost :(\";\r\n                    didWin = 0;\r\n                }\r\n\r\n                else{\r\n                    winnerString = \"You both had the same number of case right\";\r\n                    str2 = str2 + \"\\nYou both had the same number of case right\";\r\n                    if(runTime < oppRunTime){\r\n                        winnerString = winnerString + \", but you had a better run time, so you win :^)\";\r\n                        str2 = str2 + \", but you had a better run time, so you win :^)\";\r\n                        didWin = 1;\r\n                    }\r\n                    else if(oppRunTime < runTime){\r\n                        winnerString = winnerString + \", but they had a better run time, so you lost :^(\";\r\n                        str2 = str2 + \", but they had a better run time, so you lost :^(\";\r\n                        didWin = 0;\r\n                    }\r\n                    else{\r\n                        winnerString = winnerString + \", and you both somehow had the same runtime. Lets call it a draw\";\r\n                        str2 = str2 + \", and you both somehow had the same runtime. Lets call it a draw \";\r\n                        didWin = 2;\r\n                    \r\n                    }\r\n                }\r\n                outputText.textContent = str2;\r\n                this.setState({winnerInfo: winnerString});\r\n                this.showGameFinishedAlert();\r\n                if(this.props.user.isCompetitive){\r\n                    if(didWin === 0){\r\n                        if(this.props.user.rank - 20 >= 100){\r\n                            this.props.updateUserRank({name: this.props.user.name, rank: this.props.user.rank, eloUpdate: -20})\r\n                        }\r\n                    }\r\n                    else if(didWin === 1){\r\n                        if(this.props.user.rank + 20 <= 799){\r\n                            this.props.updateUserRank({name: this.props.user.name, rank: this.props.user.rank, eloUpdate: 20})\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n            else{\r\n                console.log('no hasown yet');\r\n                oppNumCorrect = data.oppNumCorrect;\r\n                oppRunTime = data.oppRunTime;\r\n                oppMemory = data.oppMemory;\r\n                oppCorrect = data.oppCorrect;\r\n            }\r\n        });\r\n    \r\n        var j = 0;\r\n        var str2 = ''; \r\n        var str3 = this.state.input;\r\n        const timeElapsed = new Date().getTime() - this.state.startTime;\r\n    \r\n        //Building the main method that will be used to invoke the user made method, and adding an import of Scanner at the beginning\r\n            \r\n    \r\n        var str1 = '\\tpublic static void main(String[] args){\\n';\r\n    \r\n        var w = 0;\r\n            var str5 = '';\r\n            var userOutputs = '';\r\n            var userOutputsCorrect = {};\r\n            var correct = true;\r\n            var userOutputsSplit ={};\r\n            var numCorrect = 0;\r\n            var runTime = 0;\r\n            var memory = 0;\r\n    \r\n    \r\n            for(var j = 0; j <challenge.inputs.length; j++){\r\n                str1 = str1 + \"\\t\\ttry{\\n\\t\\t\\tSystem.out.println(\" + challenge.methodName + \"(\";\r\n                for(var k = 0; k<challenge.inputs[j].length; k++){\r\n                    str1 = str1 + challenge.inputs[j][k];\r\n                    if(k<challenge.inputs[j].length-1)\r\n                        str1= str1 + ', ';\r\n                }\r\n                str1 = str1 + \"));}\\n\\t\\tcatch(Exception e){\\n\\t\\t\\tSystem.out.println(e.toString());\\n\\t\\t}\\n\";\r\n            }\r\n            str1 = str1 + \"\\t}\\n\";\r\n    \r\n    \r\n    \r\n            while(str3.length>0){\r\n                w = str3.indexOf('\\n');\r\n                if(str3.indexOf(\"public class Main\")!==0){      //Toss a main method in there that calls the input method and passes into it the subject input\r\n                    str2 = str2 + str3.substring(0, w+1);\r\n                    str3 = str3.substring(w+1, str3.length);\r\n                }\r\n                else{\r\n                    str2 = str2 + \"\\n\" + challenge.dataStructure + \"\\n\" + str3.substring(0, w+1);\r\n                    str3 = str3.substring(w+1, str3.length);\r\n                    str2 = str2.concat(str1, str3);\r\n                    break;\r\n                }\r\n            } \r\n            \r\n            \r\n            \r\n    \r\n            const response = await fetch(\r\n                \"https://judge0-extra.p.rapidapi.com/submissions\",\r\n                {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\r\n                        \"x-rapidapi-key\": \"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb\", \r\n                        \"content-type\": \"application/json\",\r\n                        accept: \"application/json\",\r\n                    },\r\n                    body: JSON.stringify({\r\n                        source_code: str2,\r\n                        language_id: 62\r\n                    }),\r\n                    }\r\n                \r\n                );\r\n\r\n                console.log('running code');\r\n                \r\n                const jsonResponse = await response.json();\r\n                \r\n    \r\n                let jsonGetSolution ={\r\n                    status: { description: \"Queue\" },\r\n                    stderr: null,\r\n                    compile_output: null\r\n                };\r\n                console.log('running code 2');\r\n    \r\n    \r\n                while(\r\n                    (jsonGetSolution.status.description!== \"Accepted\"&&\r\n                    jsonGetSolution.stderr == null &&\r\n                    jsonGetSolution.compile_output == null)\r\n                ) {\r\n                    numOfLoops++;\r\n                    if(numOfLoops>100){\r\n                        break;\r\n                    }\r\n                    if(jsonResponse.token){\r\n\r\n                        console.log('token');\r\n    \r\n                        let url = `https://judge0-extra.p.rapidapi.com/submissions/${jsonResponse.token}?base64_encoded=true`;\r\n                        \r\n                        const getSolution = await fetch(url, {\r\n                            method: \"GET\",\r\n                            headers: {\r\n                                \"x-rapidapi-host\": \"judge0-ce.p.rapidapi.com\",\r\n                                \"x-rapidapi-key\": \"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb\", \r\n                                \"content-type\": \"application/json\",\r\n                              },\r\n                        });\r\n                        console.log('await get solution');\r\n    \r\n                        jsonGetSolution = await getSolution.json();\r\n                    }\r\n                }\r\n    \r\n                if(jsonGetSolution.stdout){\r\n                    console.log('solution got');\r\n\r\n                    userOutputs = atob(jsonGetSolution.stdout);\r\n                    runTime = jsonGetSolution.time;\r\n                    memory = jsonGetSolution.memory;\r\n\r\n    \r\n                    userOutputsSplit = userOutputs.split(\"\\n\");\r\n                    \r\n                    for(var t = 0; t<userOutputsSplit.length; t++){\r\n                        if(userOutputsSplit[t] === challenge.outputs[t]){\r\n                            \r\n                            userOutputsCorrect[t] = true;\r\n                            numCorrect++;\r\n                        \r\n                        }    \r\n                        else{\r\n                        \r\n                            correct = false;\r\n                            userOutputsCorrect[t] = false;\r\n                        }\r\n                    }\r\n\r\n                    \r\n                    str2 = \"You passed \" + numCorrect + \"/\" + challenge.inputs.length + \" cases. The run time was \" + runTime + \" ms and you used \" + memory + \" KB of memory!\\n\" + \"Did all test cases pass?: \" + correct +\"\\n\\n\";\r\n                    this.setState({yourFinishInfo: str2});\r\n        \r\n                   // for(var j = 0; j<challenge.outputs.length; j++){\r\n                      //  str2 = str2 + \"Input(s): \" + challenge.inputs[j] + \"\\nYour Output: \" + userOutputsSplit[j] + \"\\nExpected Output: \" + challenge.outputs[j] + \"\\nOutput correct?: \" + userOutputsCorrect[j] + \"\\n-------------------------------------------\\n\";\r\n                    //}\r\n                }    \r\n                else if(jsonGetSolution.stderr){\r\n                    userOutputs = atob(jsonGetSolution.stderr);\r\n                    str2 = userOutputs;\r\n                    correct = false;\r\n                }\r\n        \r\n                else{\r\n                    userOutputs = atob(jsonGetSolution.compile_output);\r\n                    str2 = userOutputs;\r\n                    correct = false;\r\n                }\r\n            \r\n\r\n                hasOwn = true;\r\n                console.log('finished running code');\r\n\r\n                socket.emit('myChallengeInfo', {room: this.props.room.room, numCorrect: numCorrect, runTime: runTime, memory:memory, correct:correct});\r\n                if(hasOpp){\r\n                    var winnerString = '';\r\n                    console.log('hasopp');\r\n                    str2 = str2 + OCI;\r\n                    if(oppNumCorrect<numCorrect){\r\n                        winnerString = \"You passed more test cases, so you won :)\";\r\n                        str2 = str2 + \"\\nYou passed more test cases, so you won :)\";\r\n                        didWin = 1;\r\n\r\n                    }\r\n                    else if(oppNumCorrect>numCorrect){\r\n                        winnerString = \"They passed more test cases, so you lost :(\";\r\n                        str2 = str2 + \"\\nThey passed more test cases, so you lost :(\";\r\n                        didWin = 0;\r\n                    }\r\n    \r\n                    else{\r\n                        winnerString = \"You both had the same number of case right\";\r\n                        str2 = str2 + \"\\nYou both had the same number of case right\";\r\n                        if(runTime < oppRunTime){\r\n                            winnerString = winnerString + \", but you had a better run time, so you win :^)\";\r\n                            str2 = str2 + \", but you had a better run time, so you win :^)\";\r\n                            didWin = 1;\r\n                        }\r\n                        else if(oppRunTime < runTime){\r\n                            winnerString = winnerString + \", but they had a better run time, so you lost :^(\";\r\n                            str2 = str2 + \", but they had a better run time, so you lost :^(\";\r\n                            didWin = 0;\r\n                        }\r\n                        else{\r\n                            winnerString = winnerString + \", and you both somehow had the same runtime. Lets call it a draw\";\r\n                            str2 = str2 + \", and you both somehow had the same runtime. Lets call it a draw \";\r\n                            didWin = 2;\r\n                        \r\n                        }\r\n                    }\r\n\r\n                    outputText.textContent = str2;\r\n\r\n                    this.setState({winnerInfo: winnerString});\r\n                    this.showGameFinishedAlert();\r\n\r\n                    if(this.props.user.isCompetitive){\r\n                        if(didWin === 0){\r\n                            if(this.props.user.rank - 20 >= 100){\r\n                                this.props.updateUserRank({name: this.props.user.name, rank: this.props.user.rank, eloUpdate: -20})\r\n                            }\r\n                        }\r\n                        else if(didWin === 1){\r\n                            if(this.props.user.rank + 20 <= 799){\r\n                                this.props.updateUserRank({name: this.props.user.name, rank: this.props.user.rank, eloUpdate: 20})\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                }\r\n        \r\n                \r\n        };\r\n\r\n   componentDidMount(){\r\n\r\n    \r\n\r\n        if(!this.state.leaving){\r\n            socket.emit('rejoinGame', { room: this.props.room.room });\r\n        \r\n        }\r\n    }\r\n\r\n\r\n    intervalUpdate = () => {\r\n        if(localStorage.getItem(\"numCorrect\")){\r\n            socket.emit(\"intervalUpdate\", { \r\n                numCorrect: localStorage.getItem(\"numCorrect\"),\r\n                runTime: localStorage.getItem(\"runTime\"),\r\n                memory: localStorage.getItem(\"memory\"),\r\n                room: this.props.room.room\r\n            });\r\n        }\r\n    }\r\n\r\n    showOppInfoAlert = () =>{\r\n        this.setState({showOppInfo: true});\r\n    } \r\n\r\n    showGameFinishedAlert = () =>{\r\n        this.setState({showGameFinished: true});\r\n    }\r\n    showConfirmLeave = () => {\r\n        this.setState({showConfirmLeave:true});\r\n    }\r\n\r\n    closeConfirmLeave = () => {\r\n        this.setState({showConfirmLeave:false});\r\n    }\r\n\r\n\r\n    mapMakeDescription = () => {\r\n        this.props.challenge.challenge.description.split('%').map(line => {\r\n            return <text>{line}<br/></text>\r\n        })\r\n    }\r\n    /*makeDescription = () => {\r\n        var lineBreak = document.createElement(\"br\");\r\n\r\n        lineBreak.type = \"br\";\r\n        const descriptionSplit = this.props.challenge.challenge.description.split('%');\r\n\r\n\r\n        var descText = document.createElement('text');\r\n        descText.type = \"text\";\r\n        descText.innerHTML = '';\r\n\r\n        console.log(lineBreak);\r\n\r\n        for(var i = 0; i<descriptionSplit.length; i++){\r\n            if(descriptionSplit[i].charAt(0)==='!'){\r\n                descText.innerHTML = descText.innerHTML + 'Example 1:' + lineBreak;\r\n            }\r\n            else if(descriptionSplit[i].charAt(0)==='@'){\r\n                descText.innerHTML = descText.innerHTML + 'Example 2:' + lineBreak;\r\n            }\r\n            descText.innerHTML = descText.innerHTML + descriptionSplit[i] + lineBreak;\r\n            //console.log('hi');\r\n           // console.log(descText.innerHTML);\r\n\r\n        }\r\n        document.getElementById('description').innerHTML = descText.innerHTML;\r\n\r\n        \r\n    }*/\r\n\r\n    render(){\r\n\r\n\r\n        const { challenge } = this.props.challenge;\r\n        const { room } = this.props.room;\r\n        console.log('render')\r\n        var splitImports;\r\n\r\n        if(this.state.firstInput===false){\r\n            var DS = \" \\n\";\r\n\r\n            if(challenge.dataStructure!==\"  \"){\r\n                DS = \"/*\\n\" + challenge.dataStructure + \"\\n*//*\\n\";\r\n            }\r\n\r\n            if(challenge.imports!==\" \"){\r\n                splitImports = challenge.imports.split('|');\r\n                for(var j = 0; j<splitImports.length; j++){\r\n                    DS = DS + splitImports[j] + \"\\n\";\r\n                }\r\n            }\r\n\r\n\r\n            DS = DS + \"public class Main{\\n\\tpublic static \"+ challenge.outputType + \" \" + challenge.methodName + \"(\";\r\n                for(var l = 0; l<challenge.inputTypes.length; l++){\r\n                DS = DS + challenge.inputTypes[l] + \" \" + challenge.inputVarNames[l];\r\n                if(l<challenge.inputTypes.length-1){\r\n                    DS = DS + \", \";\r\n                }        \r\n\r\n\r\n                \r\n        }\r\n        DS = DS + \"){\\n\\n\\t}\\n}\";\r\n\r\n\r\n        var selected;\r\n\r\n        \r\n\r\n        if(localStorage.getItem('srcCode')){\r\n\r\n\r\n            if(localStorage.getItem('srcCode')!==DS){\r\n               // localStorage.setItem('description', description);\r\n                selected = DS;\r\n                localStorage.setItem('srcCode', DS);\r\n                //document.getElementById('source').innerHTML = DS;\r\n                //document.getElementById('description').innerHTML = description;\r\n                this.setState({input: DS});\r\n\r\n                if(this.state.firstInput===false)\r\n                    window.location.reload(false);\r\n                \r\n\r\n            }\r\n            else{\r\n               // description = localStorage.getItem('description');\r\n                selected = localStorage.getItem('srcCode');\r\n            }\r\n\r\n        }\r\n\r\n        else{\r\n            selected = DS;\r\n            localStorage.setItem('srcCode', DS);\r\n           // localStorage.setItem('description', description);\r\n        }\r\n        }\r\n\r\n\r\n        return(\r\n            <div className = \"challengepagebg\">\r\n            \r\n            <PanelGroup direction = \"row\">\r\n                <div id = \"transparent\">\r\n                    <div style = {{marginTop: \"10px\"}}>\r\n                        <h4>\r\n                            <p id = 'title'>{challenge.name}</p>\r\n                        </h4>\r\n                    </div>\r\n\r\n                    <br></br>\r\n\r\n                    <div style = {{marginLeft: \"5px\", marginRight: \"5px\"}}>\r\n                        <div class = \"d-flex justify-content-left\">\r\n                \r\n                            <text id= 'description'>{this.state.description}</text>\r\n                        </div>   \r\n                        <hr></hr>\r\n                        <br></br>\r\n\r\n                        <div class = \"d-flex justify-content-left\">\r\n                            <text id= \"exampleTitle\">{this.state.exampleOne=== '' ? '' : 'Example 1:' }<br></br><br></br></text>\r\n                        </div>    \r\n\r\n                        <div class = \"d-flex justify-content-left\">\r\n                            <text id = \"example\">{this.state.exampleOne}</text>\r\n                        </div>\r\n\r\n                        <div class = \"d-flex justify-content-left\">    \r\n                            <text id= \"exampleTitle\">{this.state.exampleTwo=== '' ? '' : 'Example 2:' }<br></br><br></br></text>\r\n                        </div>  \r\n\r\n                        <div class = \"d-flex justify-content-left\">\r\n                            <text id = \"example\">{this.state.exampleTwo}</text>\r\n                        </div>   \r\n                    </div> \r\n                    \r\n\r\n                </div>\r\n\r\n                <div style = {{width: \"100vw\"}}>\r\n                <Alert show = {this.state.showOppInfo}\r\n                    variant = \"info\"\r\n                    dismissable>\r\n                    <Alert.Heading>\r\n                        Little update on your opponents progress...\r\n                    </Alert.Heading>\r\n                    <p>\r\n                        They currently have passed {this.state.oppNumCorrect} cases, have a run time of {this.state.oppRunTime} ms and are using {this.state.oppMemory} KBs of memory.\r\n                    </p>\r\n                </Alert>\r\n\r\n                <Alert show = {this.state.showGameFinished}\r\n                    variant = \"info\"\r\n                    dismissable>\r\n\r\n                    <Alert.Heading>\r\n                        {this.state.winnerInfo}\r\n                    </Alert.Heading>\r\n\r\n                    <p>Your game data looked like:<br></br>{this.state.yourFinishInfo}<br></br><hr></hr>Their data looked like: <br></br>{this.state.theirFinishInfo}</p>\r\n                </Alert>\r\n\r\n                <Alert show = {this.state.showConfirmLeave}\r\n                    variant = \"info\"\r\n                    dismissable>\r\n\r\n                    <Alert.Heading>\r\n                        Are you sure you would like to leave?\r\n                    </Alert.Heading>\r\n\r\n                    <p>Be warned, abandoning incurs a cooldown!</p>\r\n                    <hr></hr>\r\n\r\n                    <Button \r\n                        onClick={this.confirmedAbandon}\r\n                    >Leave</Button>   \r\n                    <Button \r\n                        onClick={this.closeConfirmLeave}\r\n                    >Nevermind</Button>   \r\n                </Alert>\r\n\r\n\r\n                    \r\n                    <div class =\"row justify-content-center\" style ={{ height: \"8vh\" }}>\r\n                    <text\r\n                        style={{\r\n                            fontFamily: \"monospace\",\r\n                            fontSize: \"30px\"\r\n                        }}\r\n                        className=\"brand-logo black-text\"\r\n                        >\r\n                        <i className=\"material-icons\">code</i>\r\n                            CompCoder\r\n                    </text>\r\n                    </div>\r\n\r\n                    <div class =\"d-flex justify-content-between\" style ={{ height: \"8vh\" }}>\r\n                        \r\n                        <button \r\n                            type=\"submit\"\r\n                            className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                            onClick ={this.back}\r\n                            style = {{marginLeft: \"20px\"}}>\r\n                        \r\n                            <i class=\"fas fa-cog fa-fw\"></i> Back\r\n                        </button>\r\n                        <div style ={{marginRight: \"3vw\"}}>\r\n                            <Timer timesUp = {this.timesUp} intervalUpdate = {this.intervalUpdate}/>\r\n                        </div>\r\n\r\n                    </div>\r\n                    \r\n                    <div class =\"row justify-content-center\" style ={{ height: \"65vh\" }}>\r\n                    <Col xs = {8}>\r\n                        <Editor\r\n                        required\r\n                        height=\"65vh\"\r\n                        defaultLanguage= \"java\"\r\n                        defaultValue = {DS}\r\n                        name=\"solution\"\r\n                        id=\"source\"\r\n                        onChange={this.input}\r\n                        editorProps={{blockingScroll:true}}>\r\n                            {DS}\r\n                        </Editor>\r\n                    </Col> \r\n\r\n                    <Col xs = {3}>\r\n                        <textarea \r\n                        id = \"output\">\r\n                            {this.state.output}\r\n                        </textarea>\r\n                    </Col>\r\n                    </div>\r\n\r\n                    <div class =\"row justify-content-center\" style ={{ height: \"9vh\" }}>   \r\n\r\n                    <button\r\n                        style={{\r\n                            width: \"150px\",\r\n                            borderRadius: \"3px\",\r\n                            letterSpacing: \"1.5px\",\r\n                            marginTop: \"1rem\"\r\n                        }}\r\n                        type=\"submit\"\r\n                        className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                        onClick={this.submit}\r\n                    >\r\n                    <i class=\"fas fa-cog fa-fw\"></i> Run\r\n                    </button>\r\n                    <text id=\"warningText\"></text>\r\n                    </div>\r\n\r\n                        \r\n            \r\n            </div> \r\n        </PanelGroup>\r\n        </div>\r\n        \r\n   \r\n                    \r\n                \r\n        \r\n        );\r\n    }\r\n}\r\n   \r\n\r\nChallengePage.propTypes = {\r\n    updateUserRank: PropTypes.func.isRequired,\r\n    coolDown: PropTypes.func.isRequired,\r\n\r\n    removeChallenge: PropTypes.func.isRequired,\r\n    challengeUser: PropTypes.func.isRequired,\r\n    challenge: PropTypes.object.isRequired,\r\n    isChallenge: PropTypes.bool.isRequired,\r\n\r\n    room: PropTypes.string.isRequired,\r\n    isRoom: PropTypes.bool.isRequired,\r\n    removeRoom: PropTypes.func.isRequired,\r\n\r\n    user: PropTypes.object.isRequired\r\n\r\n\r\n  };\r\n  \r\n  const mapStateToProps = state => ({\r\n    challenge: state.auth.challenge,\r\n    isChallenge: state.auth.isChallenge,\r\n    room: state.auth.room,\r\n    isRoom: state.auth.isRoom,\r\n\r\n    user: state.auth.user\r\n  });\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { removeChallenge, removeRoom, challengeUser, updateUserRank, coolDown}\r\n)(ChallengePage);    "]},"metadata":{},"sourceType":"module"}